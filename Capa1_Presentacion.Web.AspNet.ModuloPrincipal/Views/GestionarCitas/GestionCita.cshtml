@{
    ViewBag.Title = "Gestión de Citas";
}

<h2 class="text-center mb-4">Gestión de Citas</h2>

<!-- Filtros -->
<div class="card p-4 mb-4 shadow-sm">
    <h5 class="font-weight-bold">Filtros de Búsqueda</h5>
    <div class="row">
        <div class="col-md-3">
            <label for="filtroMedico" class="font-weight-bold">Filtrar por Médico:</label>
            <select id="filtroMedico" class="form-control">
                <option value="">Todos</option>
            </select>
        </div>
        <div class="col-md-3">
            <label for="filtroEstado" class="font-weight-bold">Filtrar por Estado:</label>
            <select id="filtroEstado" class="form-control">
                <option value="">Todos</option>
                <option value="P">Pendiente</option>
                <option value="C">Confirmada</option>
                <option value="X">Cancelada</option>
            </select>
        </div>
        <div class="col-md-3">
            <label for="filtroFecha" class="font-weight-bold">Filtrar por Fecha:</label>
            <input type="date" id="filtroFecha" class="form-control" />
        </div>
        <div class="col-md-3">
            <label for="filtroEspecialidad" class="font-weight-bold">Filtrar por Especialidad:</label>
            <select id="filtroEspecialidad" class="form-control">
                <option value="">Todas</option>
            </select>
        </div>
    </div>
    <div class="row mt-3">
        <div class="col-md-6">
            <label for="codigoPacienteBuscar" class="font-weight-bold">Buscar por Código de Paciente:</label>
            <input type="text" id="codigoPacienteBuscar" class="form-control" placeholder="Ingrese el código del paciente" />
        </div>
        <div class="col-md-2 align-self-end d-flex justify-content-center align-items-center "  >
            <button class="btn btn-primary " id="btnBuscarCitas">Buscar</button>
            <button class="btn btn-success " data-bs-toggle="modal" data-bs-target="#ModalNuevaCita" >Nueva Cita</button>
        </div>
       
    </div>

</div>

<!-- Tabla -->
<div  class="card p-4 shadow-sm">
    <h5 class="font-weight-bold">Listado de Citas</h5>
    <table id="tablaCitas" class="display table table-bordered table-hover" style="width:100%">
        <thead class="thead-dark">
            <tr>
                <th>Código</th>
                <th>Paciente</th>
                <th>Médico</th>
                <th>Especialidad</th>
                <th>Fecha y Hora</th>
                <th>Estado</th>
                <th>Acciones</th>
            </tr>
        </thead>
    </table>

</div>

<!-- Modal -->
<div class="modal fade" id="ModalNuevaCita" tabindex="-1" aria-labelledby="ModalNuevaCitaLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Registrar Cita</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="formCita">
                    <div class="form-group">
                        <label for="dniPaciente" class="font-weight-bold">DNI del Paciente <span class="text-danger">*</span></label>
                        <div class="input-group">
                            <input type="text" id="dniPaciente" class="form-control" placeholder="Ingrese DNI" />
                            <div class="input-group-append">
                                <button class="btn btn-info" type="button" id="btnBuscarPaciente">
                                    <i class="fas fa-search"></i> Buscar
                                </button>
                            </div>
                        </div>
                        <small id="pacienteInfo" class="form-text text-muted"></small>
                    </div>
                    <div class="form-group">
                        <label for="medico" class="font-weight-bold">Médico <span class="text-danger">*</span></label>
                        <select id="medico" class="form-control">
                            <option value="">Seleccione un médico</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="especialidad" class="font-weight-bold">Especialidad <span class="text-danger">*</span></label>
                        <input type="text" id="especialidad" class="form-control" readonly />
                    </div>
                    <div class="form-group">
                        <label for="tipoConsulta" class="font-weight-bold">Tipo de Consulta <span class="text-danger">*</span></label>
                        <select id="tipoConsulta" class="form-control">
                            <option value="">Seleccione el tipo de consulta</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="fechaHora" class="font-weight-bold">Fecha y Hora <span class="text-danger">*</span></label>
                        <input type="datetime-local" id="fechaHora" class="form-control" />
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                @*<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>*@
                <button type="button" class="btn btn-primary">Guardar cita</button>
            </div>
        </div>
    </div>
</div>


<!-- CSS de DataTables -->
<link rel="stylesheet" href="~/Scripts/DataTables/dataTables.bootstrap4.min.css">

@section Scripts {
    <!-- Scripts de DataTables -->
    @*<script src="~/Scripts/DataTables/jquery.dataTables.min.js"></script>
        <script src="~/Scripts/DataTables/dataTables.bootstrap4.min.js"></script>*@


    @*buscame :D*@
    <script src="~/Scripts/GestionarCitasScripts/tablaCitas.js"></script>
}
