@{
    ViewBag.Title = "Gestión de Citas";
}

@section customStyles {
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
}

<h2 class="text-center mb-4">Gestión de Citas</h2>
<div class="d-flex align-items-center justify-content-center ">
    <div class="input-group rounded mb-3">
        <span class="input-group-text border-0" id="search-addon">
            <i class="fas fa-search"></i>
        </span>
        <input type="search" id="buscador-personalizado" class="form-control rounded-end " placeholder="buscar" aria-label="Search" aria-describedby="search-addon" />
        <button type="button" class="btn btn-secondary"
                data-bs-toggle="collapse"
                href="#multiCollapseExample1"
                role="button" aria-expanded="false"
                aria-controls="multiCollapseExample1">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-funnel" viewBox="0 0 16 16">
                <path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2z"></path>
            </svg>
        </button>
    </div>

    <div style="width:150px;">
        <button class="btn btn-success " data-bs-toggle="modal" data-bs-target="#ModalNuevaCita">Nueva Cita</button>
    </div>

</div>


@Html.Partial("modals/_Filters")

<!-- Tabla -->

<table id="tabla_Citas" class="table table-hover" data-url-listar-Citas="@Url.Action("ObtenerTodaslasCitas", "GestionarCitas")">
    <thead>
        <tr>
            <th>Código</th>
            <th>Paciente</th>
            <th>Médico</th>
            <th>Especialidad</th>
            <th>Fecha y Hora</th>
            <th>Estado</th>
            <th>Acciones</th>
            @*<th>tm</th>*@
        </tr>
    </thead>
    <tbody></tbody>
</table>

@Html.Partial("modals/_CrearCitasModal")

@Html.Partial("modals/_AgregarPaciente")



@section Scripts {
    <script>
            var urlRegistrarCita = '@Url.Action("RegistrarCita", "GestionarCitas")';
            console.log('@Url.Action("ObtenerTodasCitas", "GestionarCitas")');

    </script>


    <script src="~/Scripts/GestionarCitasScripts/LlenarSelects.js"></script>
    <script src="~/Scripts/GestionarCitasScripts/BuscarEmpleado.js"></script>
    <script src="~/Scripts/GestionarCitasScripts/AgregarCita.js"></script>
    <script src="~/Scripts/GestionarCitasScripts/tablaCitas.js"></script>
    <script src="~/Scripts/GestionarCitasScripts/buscadorCustomCitas.js"></script>
}
