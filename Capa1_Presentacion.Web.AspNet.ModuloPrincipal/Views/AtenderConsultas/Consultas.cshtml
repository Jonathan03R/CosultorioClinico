@{
    ViewBag.Title = "Consultas";
}

@section customStyles {
    <link rel="stylesheet" href="~/Content/Estilos-GestionarPacientes/ListasPacientes.css" />
    <link rel="stylesheet" href="~/Content/Estilos-GestionarPacientes/ModalActualizarPacientes.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
}

<style>
    .text-crema {
        color: #f5f5dc; 
    }
    .custom-bg-yellow {
        background-color: #f7d32d;
    }
</style>

<h2>Consultas del día</h2>

<div id="lista-Citas-Container" class="">

    <div class="input-group rounded">
        <span class="input-group-text border-0" id="search-addon">
            <i class="fas fa-search"></i>
        </span>
        <input type="search" id="buscador-personalizado" class="form-control rounded-end " placeholder="buscar" aria-label="Search" aria-describedby="search-addon" />
    </div>

    <div class="d-flex align-items-center justify-content-between my-3">
        <ul class="nav "  id="sub-nav">
            <li class="nav-item">
                <a class="nav-link " href="#" data-filter="all">All <span id="total-count" class="badge badge-custom">0</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" href="#" data-filter="Pendiente">Pendiente <span id="pending-count" class="badge badge-custom">0</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-filter="No asistio">No Asistieron <span id="no-show-count" class="badge badge-custom">0</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-filter="Atendido">Atendidos <span id="attended-count" class="badge badge-custom">0</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-filter="Cancelado">Cancelados <span id="cancelled-count" class="badge badge-custom">0</span></a>
            </li>
        </ul>
        <div class="input-group w-auto">
            <label class="input-group-text" for="inputFechaCitas">Fecha:</label>
            <input type="date" class="form-control" id="inputFechaCitas">

            <button type="button" id="resetFilter" class="btn btn-outline-secondary" style="border: 1px solid #dee2e6 !important;">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"></path>
                    <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"></path>
                </svg>
                <span class="visually-hidden">Button</span>
            </button>

        </div>
    </div>
    <hr />

    <table id="tabla_consultas" class="table table-hover" data-url-listar-consulta="@Url.Action("ListarConsultas", "AtenderConsultas")">
        <thead>
            <tr>
                <th></th>
                <th>Cita Codigo</th>
                <th>Paciente</th>
                <th>Fecha Cita</th>
                <th>Hora</th>
                <th>Medico</th>
                <th>Estado</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

<!-- Modal de Confirmación -->
<div class="modal fade" id="confirmacionModal" tabindex="-1" aria-labelledby="confirmacionModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="confirmacionModalLabel">Confirmación</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                ¿Está seguro de que desea iniciar esta consulta?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" id="confirmarIniciarConsulta">Iniciar</button>
            </div>
        </div>
    </div>
</div>


@section scripts {
    <script src="~/Scripts/AtenderConsultasScripts/tablaConsultas.js"></script>
    <script src="~/Scripts/AtenderConsultasScripts/DetallesCita.js"></script>
    <script src="~/Scripts/AtenderConsultasScripts/filtrar.js"></script>
}
